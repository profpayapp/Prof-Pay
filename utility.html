<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Prof-Pay Utility Services</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f4f6f9;
      padding: 20px;
    }

    h1 {
      text-align: center;
      margin-bottom: 30px;
    }

    section {
      background: #fff;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    input {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      margin-bottom: 10px;
    }

    button {
      width: 100%;
      padding: 12px;
      background: #0073e6;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }

    button:hover {
      background: #005bb5;
    }
  </style>
</head>

<body>

<h1>Prof-Pay Utility Services</h1>

<section id="airtime">
  <h2>Airtime</h2>
  <input id="airtime-amount" type="number" placeholder="Enter amount" />
  <button id="buy-airtime">Buy Airtime</button>
</section>

<section id="data">
  <h2>Data</h2>
  <input id="data-amount" type="number" placeholder="Enter amount" />
  <button id="buy-data">Buy Data</button>
</section>

<section id="electricity">
  <h2>Electricity</h2>
  <input id="electricity-amount" type="number" placeholder="Enter amount" />
  <button id="buy-electricity">Pay Electricity</button>
</section>

<section id="tv">
  <h2>TV Subscription</h2>
  <input id="tv-amount" type="number" placeholder="Enter amount" />
  <button id="buy-tv">Subscribe TV</button>
</section>

<!-- FIREBASE + LOGIC -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyAV4OESYVvV4uLYD2wxGY2fnxLYJoOzkC0",
    authDomain: "prof-prof.firebaseapp.com",
    projectId: "prof-prof",
    storageBucket: "prof-prof.appspot.com",
    messagingSenderId: "XXXX",
    appId: "XXXX"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  async function logTransaction(service, amount) {
    await addDoc(collection(db, "transactions"), {
      user_email: "admin@profpay.com",
      service: service,
      amount: amount,
      payment_method: "TACC",
      status: "success",
      date: serverTimestamp()
    });
  }

  document.getElementById("buy-airtime").onclick = async () => {
    const amount = document.getElementById("airtime-amount").value || 1;
    await logTransaction("Airtime", amount);
    alert("Airtime transaction logged");
  };

  document.getElementById("buy-data").onclick = async () => {
    const amount = document.getElementById("data-amount").value || 1;
    await logTransaction("Data", amount);
    alert("Data transaction logged");
  };

  document.getElementById("buy-electricity").onclick = async () => {
    const amount = document.getElementById("electricity-amount").value || 1;
    await logTransaction("Electricity", amount);
    alert("Electricity transaction logged");
  };

  document.getElementById("buy-tv").onclick = async () => {
    const amount = document.getElementById("tv-amount").value || 1;
    await logTransaction("TV Subscription", amount);
    alert("TV transaction logged");
  };
</script>

</body>
</html>
