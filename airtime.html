<!DOCTYPE html><html>
<head>
  <title>VTpass Airtime Sandbox</title>
  <style>
    body { font-family: Arial; padding: 20px; background-color: #f9f9f9; }
    .container { max-width: 500px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; }
    h2 { color: #2c3e50; }
    input, select, button {
      width: 100%; padding: 10px; margin: 10px 0; border-radius: 5px; border: 1px solid #ccc;
    }
    button { background-color: #2980b9; color: white; cursor: pointer; }
    button:hover { background-color: #1c5980; }
    .status { margin-top: 15px; font-weight: bold; color: green; }
  </style>
</head>
<body>
  <div class="container">
    <h2>Buy Airtime (VTpass Sandbox)</h2>
    <label>Phone Number:</label>
    <input type="text" id="phone" placeholder="Enter phone number" /><label>Network:</label>
<select id="network">
  <option value="mtn">MTN</option>
  <option value="glo">GLO</option>
  <option value="airtel">AIRTEL</option>
  <option value="etisalat">9MOBILE</option>
</select>

<label>Amount:</label>
<input type="number" id="amount" placeholder="Amount (e.g. 100)" />

<button onclick="buyAirtime()">Proceed to Pay</button>

<div class="status" id="status"></div>

  </div>  <script>
    function buyAirtime() {
      const statusBox = document.getElementById("status");
      statusBox.textContent = "Processing...";

      const payload = {
        request_id: "req_" + Date.now(),
        serviceID: document.getElementById("network").value,
        billersCode: document.getElementById("phone").value,
        variation_code: "",
        amount: document.getElementById("amount").value,
        phone: document.getElementById("phone").value
      };

      fetch("https://sandbox.vtpass.com/api/pay", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "api-key": "sandbox",
          "username": "sandbox@vtpass.com",
          "password": "sandbox"
        },
        body: JSON.stringify(payload)
      })
      .then(res => res.json())
      .then(data => {
        console.log(data);
        if (data.code === "000") {
          statusBox.textContent = "✅ Success! Airtime purchased.";
        } else {
          statusBox.textContent = "❌ Error: " + data.response_description;
        }
      })
      .catch(err => {
        console.error(err);
        statusBox.textContent = "❌ Network error occurred.";
      });
    }
  </script></body>
</html>
