<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Prof-Pay Wallet Tracker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f7f7f7;
    }
    h1 {
      color: #1a202c;
    }
    .section {
      margin-bottom: 20px;
      background: white;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 0 8px rgba(0,0,0,0.05);
    }
    .label {
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>üîç Prof-Pay Wallet Tracker</h1>

  <div class="section">
    <p><span class="label">Wallet Address:</span> 0x142B679A6b23B4720d81CE4beD9f4dAfE9803066</p>
  </div>

  <div class="section">
    <h3>üìä Wallet Balances (Live from BSC):</h3>
    <p><strong>BNB:</strong> <span id="bnbBalance">Loading...</span></p>
    <p><strong>TACC / USDT:</strong> Coming soon...</p>
  </div>

  <div class="section">
    <h3>üìú Recent Transactions:</h3>
    <ul id="txList">
      <li>Loading...</li>
    </ul>
  </div>

  <script>
    const wallet = "0x142B679A6b23B4720d81CE4beD9f4dAfE9803066";
    const apiKey = "8YHXR4DV8QWVVP27HPHNIC8A78TMSB9QPU";

    // Fetch BNB balance
    fetch(`https://api.bscscan.com/api?module=account&action=balance&address=${wallet}&tag=latest&apikey=${apiKey}`)
      .then(res => res.json())
      .then(data => {
        if (data.status === "1") {
          const bnb = (parseFloat(data.result) / 1e18).toFixed(6);
          document.getElementById("bnbBalance").textContent = `${bnb} BNB`;
        } else {
          document.getElementById("bnbBalance").textContent = "Error fetching balance";
        }
      })
      .catch(() => {
        document.getElementById("bnbBalance").textContent = "Network error";
      });

    // Fetch recent transactions
    fetch(`https://api.bscscan.com/api?module=account&action=txlist&address=${wallet}&startblock=0&endblock=99999999&page=1&offset=5&sort=desc&apikey=${apiKey}`)
      .then(res => res.json())
      .then(data => {
        const txList = document.getElementById("txList");
        txList.innerHTML = '';
        if (data.status === "1") {
          data.result.forEach(tx => {
            const li = document.createElement("li");
            li.innerHTML = `Txn Hash: <a href="https://bscscan.com/tx/${tx.hash}" target="_blank">${tx.hash.slice(0, 12)}...</a> | Block: ${tx.blockNumber}`;
            txList.appendChild(li);
          });
        } else {
          txList.innerHTML = "<li>No recent transactions found.</li>";
        }
      })
      .catch(() => {
        document.getElementById("txList").innerHTML = "<li>Error fetching transactions.</li>";
      });
  </script>
</body>
</html>
